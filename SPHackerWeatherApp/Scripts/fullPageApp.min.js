function error(){errorMessage="Det gick inte att hämta väderuppgifterna just nu. Vänligen försök senare"}function showDetails(n){"use strict";var f=parseInt(localStorage.getItem("unit")),t=n.currently,e=t.humidity,o=f===1?!0:!1,s=t.ozone,h=t.pressure,u="",i=t.temperature,c=localStorage.getItem("unitSymbol"),l=localStorage.getItem("windBearing"),r=t.windSpeed,a=localStorage.getItem("windspeedSymbol");return o&&(i=(i-32)/1.8,r=r/2.236936),u="<div class='well well-lg'><p><strong>Temperatur: <\/strong> "+i.toFixed(2)+" "+c+"<\/p><p><strong>Vind: <\/strong> "+r.toFixed(2)+" "+a+" "+l+"<\/p><p><strong>Luftfuktighet: <\/strong> "+e+"<\/p><p><strong>Lufttryck: <\/strong> "+h+"<\/p><p><strong>Ozone: <\/strong> "+s+"<\/p><\/div>",skycons.add(document.getElementById("weatherIcon"),t.icon),skycons.add("icon1",t.icon),u}function showTempChart(n){"use strict";var o=parseInt(localStorage.getItem("unit")),i=n.hourly.data,s=$("#todayChart"),r=moment.unix(i[0].time).format("dddd"),h=o===1?!0:!1,t=0,u=[],f=[],e=moment.unix(n.currently.time).format("dddd"),c;if(h)while(e===r)f.push(moment.unix(i[t].time).format("LT")),u.push((i[t].temperature-32)/1.8),r=moment.unix(i[t].time).format("dddd"),t++;else while(e===r)f.push(moment.unix(i[t].time).format("LT")),u.push(i[t].temperature),r=moment.unix(i[t].time).format("dddd"),t++;c=new Chart(s,{type:"line",data:{labels:f,datasets:[{label:"Temperatur",data:u,fill:!1,borderColor:"black",backgroundColor:"black",pointBorderColor:"tomato",pointBackgroundColor:"tomato",pointBorderWidth:1}]},options:{responsive:!0,title:{display:!0,text:"Temperatur innevarande dag"},tooltips:{mode:"label"},hover:{mode:"dataset"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Timme"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Temperature"}}]}}})}function forecastTempChart(n){"user strict";var f=parseInt(localStorage.getItem("unit")),e=$("#forecastChart"),i=[],o=f===1?!0:!1,r=[],u=[],t,s;if(o)for(t=1;t<=5;t++)u.push((n[t].temperatureMin-32)/1.8),r.push((n[t].temperatureMax-32)/1.8),i.push(moment.unix(n[t].time).format("dddd"));else for(t=1;t<=5;t++)u.push(n[t].temperatureMin),r.push(n[t].temperatureMax),i.push(moment.unix(n[t].time).format("dddd"));s=new Chart(e,{type:"line",data:{labels:i,datasets:[{label:"lägsta temperatur",data:u,fill:!1,borderColor:"lightblue",backgroundColor:"lightblue",pointBorderColor:"blue",pointBackgroundColor:"blue",pointBorderWidth:1},{label:"högsta temperatur",data:r,fill:!1,borderColor:"red",backgroundColor:"red",pointBorderColor:"tomato",pointBackgroundColor:"tomato",pointBorderWidth:1}]},options:{responsive:!0,title:{display:!0,text:"Temperatur kommande 5 dagar"},tooltips:{mode:"label"},hover:{mode:"dataset"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Dag"}}],yAxes:[{ticks:{beginAtZero:!0},display:!0,scaleLabel:{display:!0,labelString:"Temperatur"}}]}}})}var secretKey="629b0a384ddac75d1c1fa827e8846375/",iconColor="black",skycons=new Skycons({color:iconColor});(function(){"use strict";$("#details").show();var t="",i=localStorage.getItem("weatherData"),n=JSON.parse(i);showTempChart(n);forecastTempChart(n.daily.data);t=showDetails(n);$("#detailsData").html(t)})();